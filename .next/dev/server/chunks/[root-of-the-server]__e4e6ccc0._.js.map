{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/game/IIITH/src/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const db =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    log: ['query'],\n  })\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = db"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,KACX,gBAAgB,MAAM,IACtB,IAAI,sMAAY,CAAC;IACf,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/game/IIITH/src/app/api/answer/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport { db } from '@/lib/db'\n\nexport const runtime = 'nodejs'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { question } = await request.json()\n\n    if (!question) {\n      return NextResponse.json({ error: 'Question required' }, { status: 400 })\n    }\n\n    // Fetch chunks (simple demo retrieval)\n    const chunks = await db.chunk.findMany({\n      take: 5\n    })\n\n    if (chunks.length === 0) {\n      return NextResponse.json({\n        text: 'No documents uploaded yet.'\n      })\n    }\n\n    const answer = `This is a demo answer for: \"${question}\".`\n\n    // Save query (ONLY existing fields)\n    await db.query.create({\n      data: {\n        question\n      }\n    })\n\n    return NextResponse.json({\n      text: answer,\n      chunks: chunks.map(c => ({\n        id: c.id,\n        content: c.content\n      })),\n      verification: {\n        accuracy: 100\n      }\n    })\n  } catch (error) {\n    console.error(error)\n    return NextResponse.json(\n      { error: 'Failed to answer question' },\n      { status: 500 }\n    )\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAEhB,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEvC,IAAI,CAAC,UAAU;YACb,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QACzE;QAEA,uCAAuC;QACvC,MAAM,SAAS,MAAM,wHAAE,CAAC,KAAK,CAAC,QAAQ,CAAC;YACrC,MAAM;QACR;QAEA,IAAI,OAAO,MAAM,KAAK,GAAG;YACvB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,MAAM;YACR;QACF;QAEA,MAAM,SAAS,CAAC,4BAA4B,EAAE,SAAS,EAAE,CAAC;QAE1D,oCAAoC;QACpC,MAAM,wHAAE,CAAC,KAAK,CAAC,MAAM,CAAC;YACpB,MAAM;gBACJ;YACF;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,MAAM;YACN,QAAQ,OAAO,GAAG,CAAC,CAAA,IAAK,CAAC;oBACvB,IAAI,EAAE,EAAE;oBACR,SAAS,EAAE,OAAO;gBACpB,CAAC;YACD,cAAc;gBACZ,UAAU;YACZ;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA4B,GACrC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}